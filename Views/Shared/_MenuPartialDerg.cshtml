@using GestionnaireUtilisateurs.Controllers
@{ 
    bool userDeleted = WorkflowDerogationController.Deleted;
}
<div class="nav-left-sidebar sidebar-dark">
    <div class="menu-list">
        <nav class="navbar navbar-expand-lg navbar-light">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav flex-column">
                    @if (User.IsInRole(WorkflowDerogationController.Administrator))
                    {
                        <li class="nav-divider">
                            Menu Administration
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-toggle="collapse" aria-expanded="false" data-target="#submenu-55" aria-controls="submenu-2">
                                <i class="fa fa-user-md"></i>Administration
                            </a>
                            <div id="submenu-55" class="collapse submenu" style="">
                                <ul class="nav flex-column">
                                    <li class="nav-item ">
                                        <a class="nav-link" href="@Url.Action("Index", "Home")" aria-expanded="false"
                                           data-target="#submenu-1" aria-controls="submenu-1">
                                            <i class="fa fa-users"></i>Gestion des utilisateurs<span class="badge badge-success">6</span>
                                        </a>
                                    </li>

                                    <li class="nav-item ">
                                        <a class="nav-link" href="@Url.Action("IndexStatut", "Home")" aria-expanded="false"
                                           data-target="#submenu-1" aria-controls="submenu-1">
                                            <i class="fa fa-users"></i>Gestion des Statuts<span class="badge badge-success">6</span>
                                        </a>
                                    </li>

                                    <li class="nav-item ">
                                        <a class="nav-link"
                                           href="@Url.Action("module", "Home")" aria-expanded="false"
                                           data-target="#submenu-1" aria-controls="submenu-1">
                                            <i class="fas fa-clone"></i>Gestion des modules<span class="badge badge-success"></span>
                                        </a>
                                    </li>
                                    <li class="nav-item ">
                                        <a class="nav-link" href="@Url.Action("sousmodule", "Home")"
                                           aria-expanded="false" data-target="#submenu-1" aria-controls="submenu-1">
                                            <i class=" fas fa-folder-open"></i>Gestion des sous modules
                                            <span class="badge badge-success"></span>
                                        </a>
                                    </li>
                                    <li class="nav-item ">
                                        <a class="nav-link" href="@Url.Action("taches", "Home")"
                                           aria-expanded="false" data-target="#submenu-1"
                                           aria-controls="submenu-1">
                                            <i class="fas fa-qrcode">
                                            </i>Gestion des Tâches<span class="badge badge-success"></span>
                                        </a>
                                    </li>

                                </ul>
                            </div>
                        </li>
                        <li>
                            <a class="nav-link" href="#" data-toggle="collapse" aria-expanded="false" data-target="#submenu-99" aria-controls="submenu-99"><i class="fa fa-fw fa-list"></i>Corbeille</a>
                            <div id="submenu-99" class="collapse submenu" style="">
                                <ul class="nav flex-column">
                                    <li class="nav-item">
                                        <a class="nav-link" href="@Url.Action("Users","Corbeille")">Utilisateurs supprimés</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="@Url.Action("Statuts","Corbeille")">Statuts supprimés</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="@Url.Action("DemadesDerogations","Corbeille")">Demandes de dérogations supprimés</a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                    }
                    @if ((User.IsInRole(WorkflowDerogationController._Rensegnement) || User.IsInRole(WorkflowDerogationController._SitGeo)
                        || User.IsInRole(WorkflowDerogationController._GED) || User.IsInRole(WorkflowDerogationController._Avis)
                        || User.IsInRole(WorkflowDerogationController._Programmation) || User.IsInRole(WorkflowDerogationController._Autorisation)
                        || User.IsInRole(WorkflowDerogationController._Cloture) || User.IsInRole(WorkflowDerogationController.Administrator)
                        || User.IsInRole(WorkflowDerogationController._Echanges)) && !userDeleted)
                    {
                        <li class="nav-divider">
                            Menu dérogations
                        </li>
                    }
                    @if (User.IsInRole(WorkflowDerogationController.Administrator))
                    {
                        <li class="nav-item">
                            <a class="nav-link active" href="@Url.Action("TableBord","Statistics")" aria-expanded="false" data-target="#submenu-1" aria-controls="submenu-1">
                                <i class="fas fa fa-fw fa-tachometer-alt"></i>
                                Tableau de bord <span class="badge badge-success">6</span>
                            </a>
                        </li>
                    }

                    @if ((User.IsInRole(WorkflowDerogationController.Administrator) || User.IsInRole(WorkflowDerogationController._Rensegnement)
                        && !userDeleted))
                    {
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-toggle="collapse" aria-expanded="false" data-target="#submenu-2" aria-controls="submenu-2"><i class="fa fa-fw fa-plus"></i>Bureau de suivi</a>
                            <div id="submenu-2" class="collapse submenu" style="">
                                <ul class="nav flex-column">
                                    <li class="nav-item">
                                        <a class="nav-link" href="@Url.Action("Rensegnements","WorkflowDerogation")">
                                            Ajouter une demande de dérogation
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                    }
                    @if ((User.IsInRole(WorkflowDerogationController._Rensegnement) || User.IsInRole(WorkflowDerogationController._SitGeo)
                        || User.IsInRole(WorkflowDerogationController._GED) || User.IsInRole(WorkflowDerogationController._Avis)
                        || User.IsInRole(WorkflowDerogationController._Programmation) || User.IsInRole(WorkflowDerogationController._Autorisation)
                        || User.IsInRole(WorkflowDerogationController._Cloture) || User.IsInRole(WorkflowDerogationController.Administrator)
                        || User.IsInRole(WorkflowDerogationController._Echanges)) && !userDeleted)
                    {
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-toggle="collapse" aria-expanded="false" data-target="#submenu-27" aria-controls="submenu-27"><i class="fa fa-fw fa-list"></i>Traitement</a>
                            <div id="submenu-27" class="collapse submenu" style="">
                                <ul class="nav flex-column">
                                    @if (!User.IsInRole(WorkflowDerogationController.Administrator))
                                    {
                                        <li class="nav-item">
                                            <a class="nav-link" href="@Url.Action("EncoursParProfils","WorkflowDerogation")">Mes Demandes en cours</a>
                                        </li>
                                    }

                                    <li class="nav-item">
                                        <a class="nav-link" href="@Url.Action("Encours","WorkflowDerogation")">Demandes de dérogations</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="@Url.Action("Encours","WorkflowDerogation",new { finalisees=true})">Demandes de finalisés</a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-toggle="collapse" aria-expanded="false" data-target="#submenu-4" aria-controls="submenu-2"><i class="fa fa-fw fa-spinner"></i>Etat de sortie</a>
                            <div id="submenu-4" class="collapse submenu" style="">
                                <ul class="nav flex-column">
                                    <li class="nav-item">
                                        <a class="nav-link" href="@Url.Action("Index","EtatsSortie")">Etats de sortie</a>
                                    </li>

                                </ul>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="#" data-toggle="collapse" aria-expanded="false" data-target="#submenu-5" aria-controls="submenu-2"><i class="fas fa-fw fa-chart-pie"></i>Statistiques</a>
                            <div id="submenu-5" class="collapse submenu" style="">
                                <ul class="nav flex-column">
                                    <li class="nav-item">
                                        <a class="nav-link" href="@Url.Action("Index","Statistics")">Statistiques</a>
                                    </li>

                                </ul>
                            </div>
                        </li>
                    }
                    @if (User.Identity.IsAuthenticated)
                    {
                        <li class="nav-divider">
                            menu utilisateur
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link" href="@Url.Action("ChangePassword", "pw")"
                               aria-expanded="false" data-target="#submenu-1"
                               aria-controls="submenu-1">
                                <i class="fas fa-key">
                                </i>Changer Votre mot de passe<span class="badge badge-success"></span>
                            </a>
                        </li>
                    }
                </ul>
            </div>
        </nav>
    </div>
</div>
